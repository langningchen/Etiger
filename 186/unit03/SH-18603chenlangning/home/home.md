$f[i][j][k][l]$代表走到$\{i,j\}$这个格子，已经转弯了$k$次，当前面向$l$的总路径数量
$\small
l=0(下)\\
l=1(右)\\
f[i][j][k][l] = f[i][j - 1][k - (l == 0)][1] + f[i - 1][j][k - (l == 1)][0];
$